git clone https://github.com/phhusson/superuser.git
cd superuser/su
# Set up NDK environment variables, e.g.
export NDK=/path/to/android-ndk
export PATH=$NDK/toolchains/llvm/prebuilt/linux-x86_64/bin:$PATH

# For arm64 (aarch64)
aarch64-linux-android30-clang su.c -o su

# For arm (armeabi-v7a)
armv7a-linux-androideabi30-clang su.c -o su

# For x86
i686-linux-android30-clang su.c -o su

SU_BINARY_PATH="/path/to/your/compiled/su"

for su_path in \
    /system/bin/su \
    /debug_ramdisk/su \
    /system/xbin/su \
    /sbin/su \
    /sbin/bin/su \
    /system/sbin/su \
    /su/xbin/su \
    /su/bin/su \
    /magisk/.core/bin/su
do
    dir=$(dirname "$su_path")
    mkdir -p "$dir"
    cp "$SU_BINARY_PATH" "$su_path"
    chmod 755 "$su_path"
done


# mkdir_path --su-path=<path>/system/bin/su /debug_ramdisk/su /system/xbin/su /sbin/su /sbin/bin/su /system/sbin/su /su/xbin/su /su/bin/su /magisk/.core/bin/su

setup binary folder && execute_install

for su_path in /system/bin/su /debug_ramdisk/su /system/xbin/su /sbin/su /sbin/bin/su /system/sbin/su /su/xbin/su /su/bin/su /magisk/.core/bin/su; do
    dir=$(dirname "$su_path")
    mkdir -p "$dir"
    # Optionally, place your su binary at $su_path, e.g.:
    # cp /path/to/your/su "$su_path"
    # chmod 755 "$su_path"
done

# List of typical su binary locations on Android
for su_path in \
    /system/bin/su \
    /debug_ramdisk/su \
    /system/xbin/su \
    /sbin/su \
    /sbin/bin/su \
    /system/sbin/su \
    /su/xbin/su \
    /su/bin/su \
    /magisk/.core/bin/su
do
    dir=$(dirname "$su_path")
    mkdir -p "$dir"         # Create the directory if it doesn't already exist

    # Optional: Copy your su binary into place and set permissions
    # cp /path/to/your/su "$su_path"
    # chmod 755 "$su_path"
done